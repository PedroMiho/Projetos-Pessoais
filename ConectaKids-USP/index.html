
<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Checklist de Seguran√ßa - Opera√ß√£o de M√°quina</title>
    <style>
        /* Seu CSS permanece igual */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            color: #333;
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        header {
            background: #2c3e50;
            color: white;
            padding: 25px;
            text-align: center;
        }

        h1 {
            font-size: 28px;
            margin-bottom: 10px;
        }

        .subtitle {
            font-size: 16px;
            opacity: 0.9;
        }

        .instructions {
            background: #f8f9fa;
            padding: 20px;
            border-bottom: 1px solid #e9ecef;
            font-size: 15px;
        }

        .checklist-container {
            padding: 20px;
        }

        .category {
            margin-bottom: 30px;
            border-radius: 10px;
            overflow: hidden;
        }

        .category-header {
            padding: 15px 20px;
            color: white;
            font-weight: bold;
            display: flex;
            align-items: center;
        }

        .category-header i {
            margin-right: 10px;
            font-size: 20px;
        }

        .critical .category-header {
            background: #e74c3c;
        }

        .warning .category-header {
            background: #f39c12;
        }

        .normal .category-header {
            background: #27ae60;
        }

        .questions {
            padding: 15px;
            background: #f8f9fa;
        }

        .question {
            margin-bottom: 20px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }

        .question-text {
            font-weight: 600;
            margin-bottom: 8px;
            display: flex;
            align-items: flex-start;
        }

        .question-number {
            display: inline-block;
            width: 25px;
            height: 25px;
            background: #2c3e50;
            color: white;
            border-radius: 50%;
            text-align: center;
            line-height: 25px;
            margin-right: 10px;
            flex-shrink: 0;
        }

        .question-desc {
            font-size: 14px;
            color: #6c757d;
            margin-bottom: 12px;
            padding-left: 35px;
        }

        .options {
            display: flex;
            padding-left: 35px;
        }

        .option {
            margin-right: 20px;
            display: flex;
            align-items: center;
        }

        input[type="radio"] {
            margin-right: 8px;
            width: 18px;
            height: 18px;
        }

        .btn-container {
            text-align: center;
            padding: 20px;
            background: #f8f9fa;
            border-top: 1px solid #e9ecef;
        }

        button {
            background: #3498db;
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 16px;
            font-weight: 600;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(52, 152, 219, 0.3);
        }

        button:hover {
            background: #2980b9;
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(52, 152, 219, 0.4);
        }

        .result {
            text-align: center;
            padding: 25px;
            margin: 20px;
            border-radius: 10px;
            font-size: 18px;
            font-weight: 600;
            display: none;
        }

        .success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .danger {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .warning-result {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeeba;
        }

        footer {
            text-align: center;
            padding: 20px;
            font-size: 14px;
            color: #6c757d;
            background: #f8f9fa;
            border-top: 1px solid #e9ecef;
        }

        @media (max-width: 768px) {
            .options {
                flex-direction: column;
            }

            .option {
                margin-bottom: 10px;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <header>
            <h1>Checklist de Seguran√ßa e Opera√ß√£o</h1>
            <p class="subtitle">Preencha o checklist completo antes de operar a m√°quina</p>
        </header>
        <div class="instructions">
            <p>Este checklist √© obrigat√≥rio para opera√ß√£o segura da m√°quina. Responda todas as quest√µes com aten√ß√£o.
                Itens marcados como <strong>üî¥ N√ÉO OPERAR</strong> devem estar OK para que a opera√ß√£o seja permitida.
            </p>
        </div>
        <div class="checklist-container">
            <form id="checklistForm">
                <div class="category critical">
                    <div class="category-header">
                        <i>üî¥</i> N√ÉO OPERAR se n√£o estiver OK (risco imediato ao operador)
                    </div>
                    <div class="questions">
                        <div class="question">
                            <div class="question-text">
                                <span class="question-number">1</span>
                                Verificar o n√≠vel do √≥leo (cabe√ßote fixo, avental e caixa Norton)
                            </div>
                            <div class="question-desc">
                                Baixo n√≠vel de √≥leo pode causar danos aos componentes e travamento da m√°quina durante a
                                opera√ß√£o, com risco de acidente.
                            </div>
                            <div class="options">
                                <div class="option">
                                    <input type="radio" name="oleo" id="oleo-ok" value="ok" required>
                                    <label for="oleo-ok">OK</label>
                                </div>
                                <div class="option">
                                    <input type="radio" name="oleo" id="oleo-nok" value="nok">
                                    <label for="oleo-nok">N√ÉO OK</label>
                                </div>
                            </div>
                        </div>
                        <div class="question">
                            <div class="question-text">
                                <span class="question-number">2</span>
                                Verificar vazamentos no sistema de refrigera√ß√£o
                            </div>
                            <div class="question-desc">
                                Um vazamento pode causar curto-circuito, escorregamento no piso ou at√© queimar o motor
                                da bomba.
                            </div>
                            <div class="options">
                                <div class="option">
                                    <input type="radio" name="vazamentos" id="vazamentos-ok" value="ok" required>
                                    <label for="vazamentos-ok">OK</label>
                                </div>
                                <div class="option">
                                    <input type="radio" name="vazamentos" id="vazamentos-nok" value="nok">
                                    <label for="vazamentos-nok">N√ÉO OK</label>
                                </div>
                            </div>
                        </div>
                        <div class="question">
                            <div class="question-text">
                                <span class="question-number">3</span>
                                Testes das seguran√ßa (sensor da porta, bot√£o de emerg√™ncia e o freio)
                            </div>
                            <div class="question-desc">
                                Os dispositivos de seguran√ßa devem funcionar perfeitamente para proteger o operador em
                                situa√ß√µes de emerg√™ncia.
                            </div>
                            <div class="options">
                                <div class="option">
                                    <input type="radio" name="seguranca" id="seguranca-ok" value="ok" required>
                                    <label for="seguranca-ok">OK</label>
                                </div>
                                <div class="option">
                                    <input type="radio" name="seguranca" id="seguranca-nok" value="nok">
                                    <label for="seguranca-nok">N√ÉO OK</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="category warning">
                    <div class="category-header">
                        <i>üü°</i> PODE OPERAR COM ATEN√á√ÉO (n√£o trava a opera√ß√£o, mas exige cuidado)
                    </div>
                    <div class="questions">
                        <div class="question">
                            <div class="question-text">
                                <span class="question-number">4</span>
                                Inspe√ß√£o visual (sujeira na m√°quina, algo quebrado, se est√° limpa ou n√£o, pe√ßa presa)
                            </div>
                            <div class="question-desc">
                                Uma inspe√ß√£o visual pode identificar problemas que podem afetar a qualidade do trabalho
                                ou a seguran√ßa do operador.
                            </div>
                            <div class="options">
                                <div class="option">
                                    <input type="radio" name="inspecao" id="inspecao-ok" value="ok">
                                    <label for="inspecao-ok">OK</label>
                                </div>
                                <div class="option">
                                    <input type="radio" name="inspecao" id="inspecao-nok" value="nok">
                                    <label for="inspecao-nok">N√ÉO OK</label>
                                </div>
                            </div>
                        </div>
                        <div class="question">
                            <div class="question-text">
                                <span class="question-number">5</span>
                                Limpar visor da porta
                            </div>
                            <div class="question-desc">
                                Afeta a visibilidade; se estiver sujo, o operador n√£o enxerga bem o processo e pode n√£o
                                perceber um problema.
                            </div>
                            <div class="options">
                                <div class="option">
                                    <input type="radio" name="visor" id="visor-ok" value="ok">
                                    <label for="visor-ok">OK</label>
                                </div>
                                <div class="option">
                                    <input type="radio" name="visor" id="visor-nok" value="nok">
                                    <label for="visor-nok">N√ÉO OK</label>
                                </div>
                            </div>
                        </div>
                        <div class="question">
                            <div class="question-text">
                                <span class="question-number">6</span>
                                Inspecionar raspadores de cavacos
                            </div>
                            <div class="question-desc">
                                Se estiverem ruins, pode acumular cavaco e prejudicar o avan√ßo, mas raramente √© risco
                                imediato.
                            </div>
                            <div class="options">
                                <div class="option">
                                    <input type="radio" name="raspadores" id="raspadores-ok" value="ok">
                                    <label for="raspadores-ok">OK</label>
                                </div>
                                <div class="option">
                                    <input type="radio" name="raspadores" id="raspadores-nok" value="nok">
                                    <label for="raspadores-nok">N√ÉO OK</label>
                                </div>
                            </div>
                        </div>
                        <div class="question">
                            <div class="question-text">
                                <span class="question-number">7</span>
                                Retirar excessos de cavacos da √°rea de usinagem
                            </div>
                            <div class="question-desc">
                                Importante para evitar que cavacos sejam arremessados ou interfiram no corte, mas
                                normalmente n√£o √© impeditivo de ligar a m√°quina.
                            </div>
                            <div class="options">
                                <div class="option">
                                    <input type="radio" name="cavacos" id="cavacos-ok" value="ok">
                                    <label for="cavacos-ok">OK</label>
                                </div>
                                <div class="option">
                                    <input type="radio" name="cavacos" id="cavacos-nok" value="nok">
                                    <label for="cavacos-nok">N√ÉO OK</label>
                                </div>
                            </div>
                        </div>
                        <div class="question">
                            <div class="question-text">
                                <span class="question-number">8</span>
                                Limpar filtros (tela) do tanque de fluido refrigerante
                            </div>
                            <div class="question-desc">
                                Se sujos, reduzem a efici√™ncia do fluido, aumentando desgaste e calor, mas n√£o oferecem
                                risco imediato ao operador.
                            </div>
                            <div class="options">
                                <div class="option">
                                    <input type="radio" name="filtros" id="filtros-ok" value="ok">
                                    <label for="filtros-ok">OK</label>
                                </div>
                                <div class="option">
                                    <input type="radio" name="filtros" id="filtros-nok" value="nok">
                                    <label for="filtros-nok">N√ÉO OK</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="category normal">
                    <div class="category-header">
                        <i>üü¢</i> OK PARA OPERA√á√ÉO NORMAL
                    </div>
                    <div class="questions">
                        <div class="question">
                            <div class="question-text">
                                <span class="question-number">9</span>
                                Verifica√ß√£o geral de prepara√ß√£o para opera√ß√£o
                            </div>
                            <div class="question-desc">
                                Todos os itens exigem aten√ß√£o peri√≥dica. Nenhum ponto √© irrelevante para a seguran√ßa ou
                                qualidade.
                            </div>
                            <div class="options">
                                <div class="option">
                                    <input type="radio" name="verificacao" id="verificacao-ok" value="ok">
                                    <label for="verificacao-ok">OK</label>
                                </div>
                                <div class="option">
                                    <input type="radio" name="verificacao" id="verificacao-nok" value="nok">
                                    <label for="verificacao-nok">N√ÉO OK</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="btn-container">
                    <button type="submit">Verificar Condi√ß√µes de Opera√ß√£o</button>
                </div>
            </form>
            <div id="result" class="result"></div>
        </div>
        <footer>
            <p>Checklist de Seguran√ßa - Sistema de Preven√ß√£o de Acidentes</p>
            <p>¬©Ô∏è 2025 - Todos os direitos reservados</p>
        </footer>
    </div>

    <script>
        document.getElementById('checklistForm').addEventListener('submit', function(e) {
            e.preventDefault();

            const criticos = ['oleo', 'vazamentos', 'seguranca'];
            const atencao = ['inspecao', 'visor', 'raspadores', 'cavacos', 'filtros'];
            const todasPerguntas = criticos.concat(atencao).concat(['verificacao']);

            // Verifica se todas as perguntas obrigat√≥rias foram respondidas
            for (const pergunta of todasPerguntas) {
                if (!document.querySelector(`input[name="${pergunta}"]:checked`)) {
                    alert('Por favor, responda todas as perguntas obrigat√≥rias.');
                    return;
                }
            }

            // Monta objeto com respostas
            const respostas = {};
            todasPerguntas.forEach(item => {
                const selecionado = document.querySelector(`input[name="${item}"]:checked`);
                respostas[item] = selecionado ? selecionado.value : null;
            });

            // Envia para Node-RED via fetch
            fetch('http://10.105.195.109:1880/checklist', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(respostas)
            })
            .then(response => response.json())
            .then(data => {
                const resultDiv = document.getElementById('result');
                resultDiv.style.display = 'block';
                resultDiv.className = 'result ' + (data.statusClass || '');
                resultDiv.innerHTML = data.message || 'Resposta inv√°lida do servidor.';
                resultDiv.scrollIntoView({ behavior: 'smooth' });
            })
            .catch(err => {
                alert('Erro ao enviar dados para o servidor: ' + err);
            });
        });
    </script>
</body>

</html>